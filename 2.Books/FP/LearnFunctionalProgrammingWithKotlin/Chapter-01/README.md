# Chapter 01. 함수형 프로그래밍이란?

1. 용어
   - 함수형 프로그래밍(functional programming, FP)
   - 순수 함수(pure function)
   - 부수효과(side-effect)
   - 참조 투명성(referential transparency)
   - 일급 객체(first-class object)
   - 일급 함수(first-class function)
   - 게으른 평가(lazy evaluation)
1. 함수형 프로그래밍  
   - 함수형 프로그래밍 정의
     - [위키피디아 - 함수형 프로그래밍](https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98%ED%98%95_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D)
     - 함수를 사용해서 데이터 처리의 참조 투명성을 보장하고, 상태와 가변 데이터 생성을 피하는 프로그래밍 패러다임이다.
   - 함수형 프로그래밍 이점
     - 순수 함수: 예측성이 높다(더 안전한 프로그래밍)
       - 동시성 프로그래밍에 적합하다.
       - 컴파일러가 효율적으로 싱행되는 코드를 만들어 준다.
     - 참조 투명성: 더 높은 추상화를 통해 재사용성을 높인다(코드의 복잡도를 낮춘다).
       - 간결한 코드를 만들 수 있다. 
       - 모듈성이 높아진다. 
       - 유지보수하기 쉽다.
     - 게으른 평가: 무한 자료구조를 제공한다.
1. 순수 함수
   - 순수 함수 정의
     - 동일한 입력으로 실행하면 항상 동일한 결과가 나온다(시간, 장소, 횟수 무관).
     - 부수효과(sie-effect)가 없다.
       - 부수효과 정의
         - 함수가 실행되는 과정에서 외부의 상태(데이터)를 사용 또는 수정하는 걸 말한다.
       - 부수효과를 수반해야 한다면?
         - 순수한 영역과 분리해야 한다.
         - 콘솔 출력(Console.WriteLine)은 외부(IO) 상태에 영향을 주기 때문에 부수효과를 일으킨다.

       ```cs
       static void Main(string[] args)
       {
           // 순수 함수
           var msg = Transparent("Kotlin");  
    
           // 비순수 함수
           Print(msg);
       }

       // 순수 함수
       static string Transparent(string name)
       {
           return $"Hello {name}";
       }

       // 비순수 함수
       static void Print(string msg)
       {
           Console.WriteLine(msg);
       }
       ```

   - **순수 함수는 참조 투명성을 만족시킨다.**
     - 참조 투명성 정의
       - 프로그램의 변경 없이 어떤 표현식을 값으로 대체할 수 있다.
       - 예. 1 + 1(표현식)은 2(값)로 대체할 수 있다.
     - 순수 함수(참조 투명성) 효과
       - **프로그래머나 컴파일러가 평가 결과를 추론할 수 있게 한다(함수 실행 결과를 예측하기 쉽다).**
       - 추론이 가능하여 테스트가 쉽다(프로그램을 더 안전하게 만든다).
       - 컴파일러가 코드를 최적화하거나 코드가 평가되는 시점을 늦출 수 있다(게으른 평가)
1. 일급 함수
   - 일급 객체(first-class object)
     - 객체를 함수의 매개변수로 넘길 수 있다.
     - 객체를 함수의 반환값으로 돌려 줄 수 있다.
     - 객체를 변수나 자료구조에 담을 수 있다.
   - 일급 함수(first-class function)
     - 함수를 함수의 매개변수로 넘길 수 있다.
     - 함수를 함수의 반환값으로 돌려 줄 수 있다.
     - 함수를 변수나 자료구조에 담을 수 있다.
   - 일급 함수 효과
     - 더 높은 추상화가 가능하다(재사용성을 높인다).
       - 비즈니스 로직을 입출력 타입만으로 정의할 수 있다(랑다식).
       - 인터페이스와 구현 클래스 없이 함수 구현(람다식)만으로 가능하다.

       ```cs
       // 입력: int, int
       // 출력: int
       Func<int, int, int> plus = (x, y) => x + y;
       Func<int, int, int> minus = (x, y) => x - y;
       ```

     - 람다식, 고차 함수, 커링, 모나드 등의 토대가 된다.
1. 게으른 평가
   - 게으른 평가 정의
     - 값이 필요한 시점에 평가(lazy evaluation)되고 프로그래머가 평가 시점을 지정할 수 있다.
     - 여러 번 호출되더라도 최초에 한 번만 평가를 실행한다.
   - 무한대 자료구조(무한대 값)
     - 자료구조를 생성하는 함수가 호출된 시점에는 값이 평가되지 않는다.